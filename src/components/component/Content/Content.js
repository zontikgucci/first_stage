import { useState, useEffect} from 'react';
import { Swiper, SwiperSlide} from 'swiper/react'
import { Navigation } from 'swiper/modules';

import { SwiperNavButton } from '../SwiperNavButton/SwiperNavButton'

import 'swiper/swiper-bundle.css';
import './content.scss'

export const Content = () => {
  const [activeIndex, setActiveIndex] = useState(0)

  useEffect(() => {
    const slides = document.querySelectorAll('.content__item')
    slides.forEach((slide, index) => {
      slide.style.opacity = (
        index === activeIndex ||
        index === activeIndex + 1 ||
        index === activeIndex + 2 ||
        index === activeIndex + 3
      ) ? 1 : 0.3
    });
  }, [activeIndex])

  return (
    <section className='content'>
      <div className="container">
        <h2 className='content__title title'>Фотографии и видео</h2>
        <div className="content__wrapper">
          <Swiper
              modules={[Navigation]}
              spaceBetween={20}
              slidesPerView={4.2}
              navigation={{
                nextEl: '.swiperNavButton__next--content',
                prevEl: '.swiperNavButton__prev--content'
              }}
              className='content__swiper'
              onSlideChange={(swiper) => setActiveIndex(swiper.realIndex)}
            >
              <SwiperSlide className='content__item'>
                <div className="content__video"></div>
                <button className='content__play'>
                  <svg className='content__svg' width="39" height="39" viewBox="0 0 39 39"  xmlns="http://www.w3.org/2000/svg">
                    <path d="M19.5 38.25C9.14439 38.25 0.750015 29.8556 0.750015 19.5C0.750015 9.14438 9.14439 0.75 19.5 0.75C29.8556 0.75 38.25 9.14438 38.25 19.5C38.25 29.8556 29.8556 38.25 19.5 38.25ZM16.9163 12.7781C16.8034 12.7028 16.6723 12.6596 16.5368 12.6529C16.4013 12.6463 16.2665 12.6765 16.1469 12.7404C16.0272 12.8042 15.9271 12.8994 15.8572 13.0157C15.7873 13.1319 15.7503 13.265 15.75 13.4006V25.5994C15.7503 25.735 15.7873 25.8681 15.8572 25.9844C15.9271 26.1006 16.0272 26.1958 16.1469 26.2596C16.2665 26.3235 16.4013 26.3537 16.5368 26.3471C16.6723 26.3404 16.8034 26.2972 16.9163 26.2219L26.0644 20.1244C26.1673 20.0559 26.2516 19.9631 26.31 19.8542C26.3683 19.7452 26.3989 19.6236 26.3989 19.5C26.3989 19.3764 26.3683 19.2548 26.31 19.1458C26.2516 19.0369 26.1673 18.9441 26.0644 18.8756L16.9144 12.7781H16.9163Z"/>
                  </svg>
                </button>
              </SwiperSlide>
              <SwiperSlide className='content__item'>
                <div className="content__video"></div>
                <button className='content__play'>
                  <svg className='content__svg' width="39" height="39" viewBox="0 0 39 39"  xmlns="http://www.w3.org/2000/svg">
                    <path d="M19.5 38.25C9.14439 38.25 0.750015 29.8556 0.750015 19.5C0.750015 9.14438 9.14439 0.75 19.5 0.75C29.8556 0.75 38.25 9.14438 38.25 19.5C38.25 29.8556 29.8556 38.25 19.5 38.25ZM16.9163 12.7781C16.8034 12.7028 16.6723 12.6596 16.5368 12.6529C16.4013 12.6463 16.2665 12.6765 16.1469 12.7404C16.0272 12.8042 15.9271 12.8994 15.8572 13.0157C15.7873 13.1319 15.7503 13.265 15.75 13.4006V25.5994C15.7503 25.735 15.7873 25.8681 15.8572 25.9844C15.9271 26.1006 16.0272 26.1958 16.1469 26.2596C16.2665 26.3235 16.4013 26.3537 16.5368 26.3471C16.6723 26.3404 16.8034 26.2972 16.9163 26.2219L26.0644 20.1244C26.1673 20.0559 26.2516 19.9631 26.31 19.8542C26.3683 19.7452 26.3989 19.6236 26.3989 19.5C26.3989 19.3764 26.3683 19.2548 26.31 19.1458C26.2516 19.0369 26.1673 18.9441 26.0644 18.8756L16.9144 12.7781H16.9163Z"/>
                  </svg>
                </button>
              </SwiperSlide>
              <SwiperSlide className='content__item'>
                <div className="content__video"></div>
                <button className='content__play'>
                  <svg className='content__svg' width="39" height="39" viewBox="0 0 39 39"  xmlns="http://www.w3.org/2000/svg">
                    <path d="M19.5 38.25C9.14439 38.25 0.750015 29.8556 0.750015 19.5C0.750015 9.14438 9.14439 0.75 19.5 0.75C29.8556 0.75 38.25 9.14438 38.25 19.5C38.25 29.8556 29.8556 38.25 19.5 38.25ZM16.9163 12.7781C16.8034 12.7028 16.6723 12.6596 16.5368 12.6529C16.4013 12.6463 16.2665 12.6765 16.1469 12.7404C16.0272 12.8042 15.9271 12.8994 15.8572 13.0157C15.7873 13.1319 15.7503 13.265 15.75 13.4006V25.5994C15.7503 25.735 15.7873 25.8681 15.8572 25.9844C15.9271 26.1006 16.0272 26.1958 16.1469 26.2596C16.2665 26.3235 16.4013 26.3537 16.5368 26.3471C16.6723 26.3404 16.8034 26.2972 16.9163 26.2219L26.0644 20.1244C26.1673 20.0559 26.2516 19.9631 26.31 19.8542C26.3683 19.7452 26.3989 19.6236 26.3989 19.5C26.3989 19.3764 26.3683 19.2548 26.31 19.1458C26.2516 19.0369 26.1673 18.9441 26.0644 18.8756L16.9144 12.7781H16.9163Z"/>
                  </svg>
                </button>
              </SwiperSlide>
              <SwiperSlide className='content__item'>
                <div className="content__video"></div>
                <button className='content__play'>
                  <svg className='content__svg' width="39" height="39" viewBox="0 0 39 39"  xmlns="http://www.w3.org/2000/svg">
                    <path d="M19.5 38.25C9.14439 38.25 0.750015 29.8556 0.750015 19.5C0.750015 9.14438 9.14439 0.75 19.5 0.75C29.8556 0.75 38.25 9.14438 38.25 19.5C38.25 29.8556 29.8556 38.25 19.5 38.25ZM16.9163 12.7781C16.8034 12.7028 16.6723 12.6596 16.5368 12.6529C16.4013 12.6463 16.2665 12.6765 16.1469 12.7404C16.0272 12.8042 15.9271 12.8994 15.8572 13.0157C15.7873 13.1319 15.7503 13.265 15.75 13.4006V25.5994C15.7503 25.735 15.7873 25.8681 15.8572 25.9844C15.9271 26.1006 16.0272 26.1958 16.1469 26.2596C16.2665 26.3235 16.4013 26.3537 16.5368 26.3471C16.6723 26.3404 16.8034 26.2972 16.9163 26.2219L26.0644 20.1244C26.1673 20.0559 26.2516 19.9631 26.31 19.8542C26.3683 19.7452 26.3989 19.6236 26.3989 19.5C26.3989 19.3764 26.3683 19.2548 26.31 19.1458C26.2516 19.0369 26.1673 18.9441 26.0644 18.8756L16.9144 12.7781H16.9163Z"/>
                  </svg>
                </button>
              </SwiperSlide>
              <SwiperSlide className='content__item'>
                <div className="content__video"></div>
                <button className='content__play'>
                  <svg className='content__svg' width="39" height="39" viewBox="0 0 39 39"  xmlns="http://www.w3.org/2000/svg">
                    <path d="M19.5 38.25C9.14439 38.25 0.750015 29.8556 0.750015 19.5C0.750015 9.14438 9.14439 0.75 19.5 0.75C29.8556 0.75 38.25 9.14438 38.25 19.5C38.25 29.8556 29.8556 38.25 19.5 38.25ZM16.9163 12.7781C16.8034 12.7028 16.6723 12.6596 16.5368 12.6529C16.4013 12.6463 16.2665 12.6765 16.1469 12.7404C16.0272 12.8042 15.9271 12.8994 15.8572 13.0157C15.7873 13.1319 15.7503 13.265 15.75 13.4006V25.5994C15.7503 25.735 15.7873 25.8681 15.8572 25.9844C15.9271 26.1006 16.0272 26.1958 16.1469 26.2596C16.2665 26.3235 16.4013 26.3537 16.5368 26.3471C16.6723 26.3404 16.8034 26.2972 16.9163 26.2219L26.0644 20.1244C26.1673 20.0559 26.2516 19.9631 26.31 19.8542C26.3683 19.7452 26.3989 19.6236 26.3989 19.5C26.3989 19.3764 26.3683 19.2548 26.31 19.1458C26.2516 19.0369 26.1673 18.9441 26.0644 18.8756L16.9144 12.7781H16.9163Z"/>
                  </svg>
                </button>
              </SwiperSlide>
              <SwiperSlide className='content__item'>
                <div className="content__video"></div>
                <button className='content__play'>
                  <svg className='content__svg' width="39" height="39" viewBox="0 0 39 39"  xmlns="http://www.w3.org/2000/svg">
                    <path d="M19.5 38.25C9.14439 38.25 0.750015 29.8556 0.750015 19.5C0.750015 9.14438 9.14439 0.75 19.5 0.75C29.8556 0.75 38.25 9.14438 38.25 19.5C38.25 29.8556 29.8556 38.25 19.5 38.25ZM16.9163 12.7781C16.8034 12.7028 16.6723 12.6596 16.5368 12.6529C16.4013 12.6463 16.2665 12.6765 16.1469 12.7404C16.0272 12.8042 15.9271 12.8994 15.8572 13.0157C15.7873 13.1319 15.7503 13.265 15.75 13.4006V25.5994C15.7503 25.735 15.7873 25.8681 15.8572 25.9844C15.9271 26.1006 16.0272 26.1958 16.1469 26.2596C16.2665 26.3235 16.4013 26.3537 16.5368 26.3471C16.6723 26.3404 16.8034 26.2972 16.9163 26.2219L26.0644 20.1244C26.1673 20.0559 26.2516 19.9631 26.31 19.8542C26.3683 19.7452 26.3989 19.6236 26.3989 19.5C26.3989 19.3764 26.3683 19.2548 26.31 19.1458C26.2516 19.0369 26.1673 18.9441 26.0644 18.8756L16.9144 12.7781H16.9163Z"/>
                  </svg>
                </button>
              </SwiperSlide>
            </Swiper>
            <SwiperNavButton nameClass={'content'}/>
        </div>
        <p className='content__subtitle subtitle'>
          Представляем вашему вниманию спальный гарнитур &laquo;Натали&raquo; Он&nbsp;выполнен в&nbsp;классическом стиле с&nbsp;элементами аристократии и&nbsp;роскоши. В&nbsp;комплект входят: кровать, прикроватные тумбы, несколько вариантов шкафов и&nbsp;комод с&nbsp;зеркалом. Обратите внимание, все модули комплекта вы&nbsp;можете приобрести по&nbsp;отдельности. Коллекция &laquo;Натали&raquo; может быть выполнена в&nbsp;двух цветах: в&nbsp;темном оттенке &laquo;Орех&raquo;, а&nbsp;также в&nbsp;более светлом решении &laquo;Клен Ясень Бежевый&raquo; Рекомендуем Вам обязательно посмотреть видео спальни, гостиной и&nbsp;прихожей из&nbsp;коллекции &laquo;Натали&raquo;.
        </p>
      </div>
    </section>
  )
}